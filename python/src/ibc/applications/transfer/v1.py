# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: ibc/applications/transfer/v1/tx.proto, ibc/applications/transfer/v1/transfer.proto, ibc/applications/transfer/v1/query.proto, ibc/applications/transfer/v1/genesis.proto
# plugin: python-betterproto
from dataclasses import dataclass
from typing import List, Optional

import betterproto
import grpclib

from .cosmos.base import v1beta1
from .cosmos.base.query import v1beta1
from .ibc.core.client import v1


@dataclass
class MsgTransfer(betterproto.Message):
    """
    MsgTransfer defines a msg to transfer fungible tokens (i.e Coins) between
    ICS20 enabled chains. See ICS Spec here:
    https://github.com/cosmos/ics/tree/master/spec/ics-020-fungible-token-
    transfer#data-structures
    """

    # the port on which the packet will be sent
    source_port: str = betterproto.string_field(1)
    # the channel by which the packet will be sent
    source_channel: str = betterproto.string_field(2)
    # the tokens to be transferred
    token: v1beta1.Coin = betterproto.message_field(3)
    # the sender address
    sender: str = betterproto.string_field(4)
    # the recipient address on the destination chain
    receiver: str = betterproto.string_field(5)
    # Timeout height relative to the current block height. The timeout is
    # disabled when set to 0.
    timeout_height: v1.Height = betterproto.message_field(6)
    # Timeout timestamp (in nanoseconds) relative to the current block timestamp.
    # The timeout is disabled when set to 0.
    timeout_timestamp: int = betterproto.uint64_field(7)


@dataclass
class MsgTransferResponse(betterproto.Message):
    """MsgTransferResponse defines the Msg/Transfer response type."""

    pass


@dataclass
class FungibleTokenPacketData(betterproto.Message):
    """
    FungibleTokenPacketData defines a struct for the packet payload See
    FungibleTokenPacketData spec:
    https://github.com/cosmos/ics/tree/master/spec/ics-020-fungible-token-
    transfer#data-structures
    """

    # the token denomination to be transferred
    denom: str = betterproto.string_field(1)
    # the token amount to be transferred
    amount: int = betterproto.uint64_field(2)
    # the sender address
    sender: str = betterproto.string_field(3)
    # the recipient address on the destination chain
    receiver: str = betterproto.string_field(4)


@dataclass
class DenomTrace(betterproto.Message):
    """
    DenomTrace contains the base denomination for ICS20 fungible tokens and the
    source tracing information path.
    """

    # path defines the chain of port/channel identifiers used for tracing the
    # source of the fungible token.
    path: str = betterproto.string_field(1)
    # base denomination of the relayed fungible token.
    base_denom: str = betterproto.string_field(2)


@dataclass
class Params(betterproto.Message):
    """
    Params defines the set of IBC transfer parameters. NOTE: To prevent a
    single token from being transferred, set the TransfersEnabled parameter to
    true and then set the bank module's SendEnabled parameter for the
    denomination to false.
    """

    # send_enabled enables or disables all cross-chain token transfers from this
    # chain.
    send_enabled: bool = betterproto.bool_field(1)
    # receive_enabled enables or disables all cross-chain token transfers to this
    # chain.
    receive_enabled: bool = betterproto.bool_field(2)


@dataclass
class QueryDenomTraceRequest(betterproto.Message):
    """
    QueryDenomTraceRequest is the request type for the Query/DenomTrace RPC
    method
    """

    # hash (in hex format) of the denomination trace information.
    hash: str = betterproto.string_field(1)


@dataclass
class QueryDenomTraceResponse(betterproto.Message):
    """
    QueryDenomTraceResponse is the response type for the Query/DenomTrace RPC
    method.
    """

    # denom_trace returns the requested denomination trace information.
    denom_trace: "DenomTrace" = betterproto.message_field(1)


@dataclass
class QueryDenomTracesRequest(betterproto.Message):
    """
    QueryConnectionsRequest is the request type for the Query/DenomTraces RPC
    method
    """

    # pagination defines an optional pagination for the request.
    pagination: v1beta1.PageRequest = betterproto.message_field(1)


@dataclass
class QueryDenomTracesResponse(betterproto.Message):
    """
    QueryConnectionsResponse is the response type for the Query/DenomTraces RPC
    method.
    """

    # denom_traces returns all denominations trace information.
    denom_traces: List["DenomTrace"] = betterproto.message_field(1)
    # pagination defines the pagination in the response.
    pagination: v1beta1.PageResponse = betterproto.message_field(2)


@dataclass
class QueryParamsRequest(betterproto.Message):
    """
    QueryParamsRequest is the request type for the Query/Params RPC method.
    """

    pass


@dataclass
class QueryParamsResponse(betterproto.Message):
    """
    QueryParamsResponse is the response type for the Query/Params RPC method.
    """

    # params defines the parameters of the module.
    params: "Params" = betterproto.message_field(1)


@dataclass
class GenesisState(betterproto.Message):
    """GenesisState defines the ibc-transfer genesis state"""

    port_id: str = betterproto.string_field(1)
    denom_traces: List["DenomTrace"] = betterproto.message_field(2)
    params: "Params" = betterproto.message_field(3)


class MsgStub(betterproto.ServiceStub):
    """Msg defines the ibc/transfer Msg service."""

    async def transfer(
        self,
        *,
        source_port: str = "",
        source_channel: str = "",
        token: Optional[v1beta1.Coin] = None,
        sender: str = "",
        receiver: str = "",
        timeout_height: Optional[v1.Height] = None,
        timeout_timestamp: int = 0,
    ) -> MsgTransferResponse:
        """Transfer defines a rpc handler method for MsgTransfer."""

        request = MsgTransfer()
        request.source_port = source_port
        request.source_channel = source_channel
        if token is not None:
            request.token = token
        request.sender = sender
        request.receiver = receiver
        if timeout_height is not None:
            request.timeout_height = timeout_height
        request.timeout_timestamp = timeout_timestamp

        return await self._unary_unary(
            "/ibc.applications.transfer.v1.Msg/Transfer",
            request,
            MsgTransferResponse,
        )


class QueryStub(betterproto.ServiceStub):
    """Query provides defines the gRPC querier service."""

    async def denom_trace(self, *, hash: str = "") -> QueryDenomTraceResponse:
        """DenomTrace queries a denomination trace information."""

        request = QueryDenomTraceRequest()
        request.hash = hash

        return await self._unary_unary(
            "/ibc.applications.transfer.v1.Query/DenomTrace",
            request,
            QueryDenomTraceResponse,
        )

    async def denom_traces(
        self, *, pagination: Optional[v1beta1.PageRequest] = None
    ) -> QueryDenomTracesResponse:
        """DenomTraces queries all denomination traces."""

        request = QueryDenomTracesRequest()
        if pagination is not None:
            request.pagination = pagination

        return await self._unary_unary(
            "/ibc.applications.transfer.v1.Query/DenomTraces",
            request,
            QueryDenomTracesResponse,
        )

    async def params(self) -> QueryParamsResponse:
        """Params queries all parameters of the ibc-transfer module."""

        request = QueryParamsRequest()

        return await self._unary_unary(
            "/ibc.applications.transfer.v1.Query/Params",
            request,
            QueryParamsResponse,
        )
